{
    "version": "0.76.1",
    "description": "FFmpeg based DirectShow splitter and decoders",
    "homepage": "https://github.com/Nevcairiel/LAVFilters",
    "license": {
        "identifier": "GPL-2.0-only",
        "url": "https://github.com/Nevcairiel/LAVFilters/blob/master/COPYING"
    },
    "notes": [
        "Please do not move or delete this app manually!",
        "If you want to reset the settings, you can just delete the item \"LAV\" at \"HKCU\\Software\" in the registry."
    ],
    "depends": "sudo",
    "architecture": {
        "64bit": {
            "url": "https://github.com/Nevcairiel/LAVFilters/releases/download/0.76.1/LAVFilters-0.76.1-x64.zip",
            "hash": "bf52325ba35dff7dd772bdfd8819206fb60ae6efa48f0f562e5e6daf3c07d8a4"
        },
        "32bit": {
            "url": "https://github.com/Nevcairiel/LAVFilters/releases/download/0.76.1/LAVFilters-0.76.1-x86.zip",
            "hash": "3973f6364c6b101353631025ed172dbaa28c2878c18fad45bcd98689aaf84594"
        }
    },
    "pre_install": [
        "Get-ChildItem -Path $dir -Filter *install_*.bat | ForEach-Object {",
        "    $content = (Get-Content -Path $_).Replace(\"regsvr32.exe\", \"regsvr32.exe /s\")",
        "    Set-Content -Path $_ -Value $content",
        "}"
    ],
    "installer": {
        "script": [
            "$installer = \"$dir\\installer.bat\"",
            "$content = Get-ChildItem -Path $dir -Filter install_*.bat | ForEach-Object {",
            "    \"call `\"$_`\"\"",
            "}",
            "$content = (, \"@echo off\") + $content",
            "Set-Content -Path $installer -Value $content",
            "sudo $installer",
            "Remove-Item -Path $installer -Force -ErrorAction SilentlyContinue"
        ]
    },
    "uninstaller": {
        "script": [
            "$uninstaller = \"$dir\\uninstaller.bat\"",
            "$content = Get-ChildItem -Path $dir -Filter uninstall_*.bat | ForEach-Object {",
            "    \"call `\"$_`\"\"",
            "}",
            "$content = (, \"@echo off\") + $content",
            "Set-Content -Path $uninstaller -Value $content",
            "sudo $uninstaller",
            "Remove-Item -Path $uninstaller -Force -ErrorAction SilentlyContinue"
        ]
    },
    "checkver": "github",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/Nevcairiel/LAVFilters/releases/download/$version/LAVFilters-$version-x64.zip"
            },
            "32bit": {
                "url": "https://github.com/Nevcairiel/LAVFilters/releases/download/$version/LAVFilters-$version-x86.zip"
            }
        }
    }
}
